<ion-header>
	<ion-toolbar color="primary">
		<ion-title>My App</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
	<form (ngSubmit)="login()" [formGroup]="credentials">
		<ion-item class="ion-margin-bottom">
			<ion-input
				type="email"
				placeholder="Email"
				label="Email"
				label-placement="floating"
				fill="solid"
				formControlName="email"
			></ion-input>
			<ion-note
				slot="helper"
				color="danger"
				*ngIf="(email?.dirty || email?.touched) && email?.errors?.['email']"
				>Email is invalid</ion-note
			>
		</ion-item>

		<ion-item class="ion-margin-bottom">
			<ion-input
				type="password"
				placeholder="Password"
				label="Password"
				label-placement="floating"
				fill="solid"
				formControlName="password"
			></ion-input>
			<ion-note
				slot="helper"
				color="danger"
				*ngIf="(password?.dirty || password?.touched) && password?.errors?.['minlength']"
				>Password needs to be at least 6 characters</ion-note
			>
		</ion-item>

		<ion-button
			type="submit"
			expand="block"
			[disabled]="!credentials.valid"
			>Log in</ion-button
		>
		<ion-button
			type="button"
			expand="block"
			color="secondary"
			(click)="register()"
			>Create account</ion-button
		>
	</form>
</ion-content>
